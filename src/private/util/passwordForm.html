<!doctype html>
<html lang="pl">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
    <title>System elektronicznej rejestracji pacjentów</title>
    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="/css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="/css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <meta name="theme-color" content="#000000" />
</head>

<body>
    <div class="valign-wrapper row">
        <div class="col card hoverable s10 pull-s1 m6 pull-m3 l4 pull-l4" style="padding:20px; margin-top: 30px;">
            <div class="valign-wrapper row">

                <form name='form-pass' class="col s12 m12" method="POST" action="/api/passchange" target="_top">
                    <div class="row">
                        <div class="col s12  m12 l12">
                            <h4 class="center">Zmiana hasła</h4>
                            <div class="input-field col s12">
                                <i class="material-icons prefix">https</i>
                                <input type="password" class="validate" id="pass" pattern="^(?=.{8,}$).*"
                                    class="validate" name="pass" required>
                                <label for="pass">Wprowadź hasło logowania</label>
                                <span class="helper-text"
                                    data-error="Hasło jest zbyt proste, musi zawierać conajmniej 8 znaków"
                                    data-success="Hasło jest wystarczające"></span>
                            </div>

                            <div class="input-field col s12">
                                <i class="material-icons prefix">replay</i>
                                <input type="password" id="pass2" onchange="checkPass()" pattern="^(?=.{8,}$).*"
                                    class="validate" required>
                                <label for="pass2">Powtórz hasło logowania</label>
                                <span class="helper-text" id="help" for="pass2" data-error="Hasła nie są identyczne"
                                    data-success="Hasła są identyczne"></span>
                            </div>
                        </div>

                        <button
                            class="waves-effect waves-light btn center-align col s12 m8 push-m2 l8 push-l2 waves-light "
                            type="submit">Zmień</button>
                    </div>

                </form>

            </div>
        </div>
    </div>
    <script>
        function checkPass(evt) {
            let pass1 = document.getElementById('pass');
            let pass2 = document.getElementById('pass2');
            let helper = document.getElementById('help');
            if (pass1.value === pass2.value) {
                pass2.classList.add("valid");
                pass2.classList.remove("invalid");
            } else {
                pass2.classList.add("invalid");
                pass2.classList.remove("valid");

            }
        }
    </script>
</body>

</html>